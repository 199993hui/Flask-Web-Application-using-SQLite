{% extends "bootstrap.html" %}
{% block title %}Update Employee Page{% endblock %}

{% block content %}
{% if get_flashed_messages():%}
<div class="alert alert-warning alert-dismissible fade show fixed-top">
    {% for message in get_flashed_messages() %}
    {{ message }}
    {% endfor %}
    <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
</div>
{% endif %}
<div class="twPc-bg twPc-block"></div>
        <div class="container">
            <div class="row">
                <div class="col-md-9">
                    <div class="row">
                        <div class="panel">
                            <div class=" panel-body ">
                                <div class="col-md-10">
                                    <div class=" clearfix">
                                        <h3>{{emp['name']}} </h3>
                                        <h4>Employee</h4>
                                        <div>
                                        <a class="nav-link" href="/updateEmployee">
                                        <button type="submit" class="btn btn-success ">Update</button>
                                        </a>
                                        {% if "admin_username" in session: %}
                                        <button type="button" class="btn btn-danger " data-bs-toggle="modal" data-bs-target="#delete-modal">
                                            Delete
                                        </button>
                                        
                                        </div>
                                        <div class="modal fade" id="delete-modal" tabindex="-1" aria-labelledby="modal-title" aria-hidden="true">
                                            <form action="{{ url_for('deleteEmployee')}}" method="POST">
                                                <input type="number" class="form-control" name="emp_id" value="{{emp['emp_id']}}" autocomplete="on" hidden />
                                                <div class="modal-dialog">
                                                    <div class="modal-content">
                                                        <div class="modal-header">
                                                            <h5 class="modal-title" id="modal-title">Delete the information of employee ID = {{emp['emp_id']}} </h5>
                                                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
                                                            </button>
                                                        </div>
                                                        <div class="modal-body">
                                                            <p> Are you sure you want to delete this employee?</p>
                                                        </div>
                                                        <div class="modal-footer">
                                                                <button type="submit" class="btn btn-danger btn-md pull-center">Delete</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </form>
                                        </div>
                                        {% endif %}
                                        {% block delete %}
                                        {% endblock %}
                                        <hr>
                                    </div>
                                </div>
                                <div class="col-md-8">
                                    <div class="profile-block">
                                        <ul class="list-group">
                                            <li class="list-group-item">Employee ID: {{emp['emp_id']}}</li>
                                            <li class="list-group-item">Gender： {{emp['gender']}}</li>
                                            <li class="list-group-item">Email：<br>{{emp['email']}}</li>
                                            <li class="list-group-item">Address<br>{{emp['address']}} </li>
                                            <li class="list-group-item">Academic qualification： {{emp['academic']}}</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="panel">
                            <div class=" panel-body ">
                                <div class="col-md-12">
                                    <ul class="list-inline">
                                        <li>
                                            <h5><strong>Username: {{emp['username']}}</h5>
                                        </li>
                                        <li>  </li>
                                    </ul>
                                    <ul class="list-inline">
                                        <li>
                                            {% if "emp_username" in session: %}
                                            <h5><strong>Password: {{emp['password']}}</h5>
                                            {% endif %}
                                        </li>
                                    </ul>
                                    <hr>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
<style>
.twPc-bg {
background-image: url("https://pbs.twimg.com/profile_banners/50988711/1384539792/600x200");
background-position: 0 50%;
background-size: 100% auto;
border-radius: 4px 4px 0 0;
height: 100px;
width: 100%;
}
.twPc-block {
display: block;
}
.alert {
  margin-top: 6%;
  margin-left: 35%;
  width:30%;
}
</style>
{% endblock %}